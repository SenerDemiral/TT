<link rel="import" href="/sys/paper-dialog/paper-dialog.html">
<link rel="import" href="/sys/paper-dialog-scrollable/paper-dialog-scrollable.html">
<link rel="import" href="/sys/iron-icons/maps-icons.html">
<link rel="import" href="/sys/iron-icons/social-icons.html">
<link rel="import" href="/sys/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/sys/paper-button/paper-button.html">
											 
<template>
    <template is="dom-bind">
        <div style="font-size: 12px; text-align: center">{{model.TurnuvaInfo}}</div>
        <table>
            <tr>
                <th colspan="3" rowspan="2">Takım</th>
                <th colspan="4">Puan</th>
                <th colspan="4">Müsabaka</th>
                <th colspan="2">Maç</th>
                <th colspan="2">Set</th>
                <th colspan="2">Sayı</th>
            </tr>
            <tr>
				<th>P</th>
                <th>AV</th>
                <th>A</th>
                <th>V</th>
                <th>O</th>
                <th>G</th>
                <th>B</th>
                <th>M</th>
                <th>A</th>
                <th>V</th>
                <th>A</th>
                <th>V</th>
                <th>A</th>
                <th>V</th>
            </tr>
            <tbody>
                <template is="dom-repeat" items="{{model.Takimlar}}">
                    <tr>
                        <td>[[item.TakimAd]]</td>
						<!--<td><button value="{{item.abcd$::click}}" onmousedown="++this.value" style="width: 100%">{{item.TakimAd}}</button></td>-->
		                <!--<td><paper-button style="text-transform: none;" on-click="onTakimClick">[[item.TakimAd]]<iron-icon icon="social:people"></iron-icon></paper-button></td>-->
		                <!--<paper-button><iron-icon icon="check"></iron-icon>link</paper-button>-->
						<td><paper-icon-button  on-click="onTakimClick" icon="social:people" style="height:20px; width:20px; padding:0"></paper-icon-button></td>
	                    <td><paper-icon-button  on-click="onTakimMapClick" icon="maps:place" style="height:20px; width:20px; padding:0"></paper-icon-button></td>
						<!--<td><button value="{{item.TakimClick$::click}}" on-click="onTakimClick" style="width: 100%">{{item.TakimAd}}</button></td>-->
                        <td style="text-align:center">{{item.Ozet.TrnPuan}}</td>
                        <td style="text-align:center">{{item.Ozet.PuanAV}}</td>
                        <td style="text-align:center">{{item.Ozet.PuanA}}</td>
                        <td style="text-align:center">{{item.Ozet.PuanV}}</td>
                        <td style="text-align:center">{{item.Ozet.MsbkO}}</td>
                        <td style="text-align:center">{{item.Ozet.MsbkA}}</td>
                        <td style="text-align:center">{{item.Ozet.MsbkB}}</td>
                        <td style="text-align:center">{{item.Ozet.MsbkV}}</td>
                        <td style="text-align:center">{{item.Ozet.MacA}}</td>
                        <td style="text-align:center">{{item.Ozet.MacV}}</td>
                        <td style="text-align:center">{{item.Ozet.SetA}}</td>
                        <td style="text-align:center">{{item.Ozet.SetV}}</td>
                        <td style="text-align:center">{{item.Ozet.SayiA}}</td>
                        <td style="text-align:center">{{item.Ozet.SayiV}}</td>
					<!--<td><button value="{{item.TakimMapClick$::click}}" onmousedown="++this.value" style="width: 100%"><iron-icon icon="maps:place"></iron-icon></button></td>-->
                    <!--<td><paper-icon-button valuexxx="{{item.TakimMapClick$::click}}" on-click="onTakimMapClick" icon="maps:place"></paper-icon-button></td>-->
                    <!--<td><paper-icon-button value="{{item.TakimMapClick$::click}}" onmousedown="++this.value" icon="maps:place"></paper-icon-button></td>-->
                    <!--<td><paper-button value="{{item.TakimMapClick$::click}}" onmousedown="++this.value" >x</paper-button></td>-->
                    <!--<td><paper-button value="{{item.TakimMapClick$::click}}" on-click="onTakimMapClick" >x</paper-button></td>-->
					</tr>
                </template>
            </tbody>
        </table>

		<paper-dialog id="TakimMusabaka" tabindex=-1 opened="{{model.TakimMusabakaOpened$}}">
			<h2>[[model.CurRowTakimAd]] Müsabakaları</h2>
			<paper-dialog-scrollable>
				<table>
					<tr>
						<th>Tarih</th>
						<th>Home</th>
						<th>P</th>
						<th>M</th>
						<th>S</th>
						<th>#</th>
						<th>Guest</th>
						<th>P</th>
						<th>M</th>
						<th>S</th>
						<th>#</th>
					</tr>
					<tbody>
						<template is="dom-repeat" items="[[model.CurTakimMusabakalari]]">
							<tr winner$="[[item.Sonuc]]">
								<td>[[item.Tarih]]</td>

								<template is="dom-if" if="[[item.IsHome]]">
									<td><b>[[item.HomeTakimAd]]</b></td>
								</template>
								<template is="dom-if" if="[[!item.IsHome]]">
									<td>[[item.HomeTakimAd]]</td>
								</template>
								
								<td>[[item.Ozet.HomePuan]]</td>
								<td>[[item.Ozet.HomeMac]]</td>
								<td>[[item.Ozet.HomeSet]]</td>
								<td>[[item.Ozet.HomeSayi]]</td>

								<template is="dom-if" if="[[!item.IsHome]]">
									<td><b>[[item.GuestTakimAd]]</b></td>
								</template>
								<template is="dom-if" if="[[item.IsHome]]">
									<td>[[item.GuestTakimAd]]</td>
								</template>
								
								<td>[[item.Ozet.GuestPuan]]</td>
								<td>[[item.Ozet.GuestMac]]</td>
								<td>[[item.Ozet.GuestSet]]</td>
								<td>[[item.Ozet.GuestSayi]]</td>
							</tr>
						</template>
					</tbody>
				</table>
			</paper-dialog-scrollable>
			<div class="buttons">
				<paper-button dialog-confirm autofocus>Close</paper-button>
			</div>
		</paper-dialog>
		
		<template is="dom-if" if="[[model.TakimMapOpened$]]">
			<div class="content">
				<starcounter-include partial="[[model.TakimMap]]"></starcounter-include>
			</div>
		</template>
		
		<!--
		<paper-dialog id="TakimMap" tabindex=-1 opened="{{model.TakimMapOpened$}}" style="height:60vh; width:80vw">
			<google-map map="{{map}}"
						zoom="17"
						fit-to-marker
						latitude="[[model.TakimLat]]"
						longitude="[[model.TakimLon]]"
						api-key="AIzaSyDPkEs-_HJWKejZ5qLXTmXXfVFnAXJmnt0">
				<google-map-marker
						latitude="[[model.TakimLat]]"
						longitude="[[model.TakimLon]]">
				</google-map-marker>
			</google-map>
		</paper-dialog>
		-->
	<!--
		<paper-dialog id="TakimMap" tabindex=-1 opened="{{model.TakimMapOpened$}}" style="height:60vh; width:80vw">
			<google-map map="{{map}}"
						zoom="17"
						fit-to-marker
						latitude="37.041987"
						longitude="27.428861"
						api-key="AIzaSyDPkEs-_HJWKejZ5qLXTmXXfVFnAXJmnt0">
				<google-map-marker
						latitude="37.041987"
						longitude="27.428861">
				</google-map-marker>
			</google-map>
		</paper-dialog>
	-->
    </template>

	<script>
        (function () {
            var script = document._currentScript || document.currentScript;
            var template = script.previousElementSibling;

            template.onTakimClick = function (event) {
            	//console.log("OnToogleClick", event.model.__data__.item.TakimClick$);
            	event.model.__data__.item.TakimClick$ = parseInt(event.model.__data__.item.TakimClick$, 10) + 1;
            	//template.set("event.model.__data__.item.TakimClick$", parseInt(template.get(event.model.__data__.item.TakimClick$), 10) + 1);
            }

            template.onTakimMapClick = function (event) {
            	//console.log("OnToogleMap 1", event.model.__data__);
            	//console.log("OnToogleMap 2", event.model.__data__.item);
            	//console.log("OnToogleMap 3", event.model.__data__.item.TakimMapClick$);
            	//console.log("OnToogleMap 4", event.model.__data__['item.TakimMapClick$']);
            	//event.stopPropagation();
            	//event.preventDefault();
            event.model.__data__.item.TakimMapClick$ += 1;
            	//event.model.__data__.item.TakimMapClick$ = parseInt(event.model.__data__.item.TakimMapClick$, 10) + 1;
            }
        })();
	</script>

</template>